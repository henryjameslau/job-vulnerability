<script>
	import { getContext } from 'svelte';

	const { width, padding, xRange, xScale, yScale } = getContext('LayerCake');

	export let ticks = 4;
	export let formatTick = d => d;

	$: isBandwidth = typeof $yScale.bandwidth === 'function';

	$: tickVals = Array.isArray(ticks) ? ticks :
		isBandwidth ?
			$yScale.domain() :
			$yScale.ticks(ticks);

</script>

<div class="axis">
	{#each tickVals as tick,i}
		<div class="tick" style="width:{$padding.left-5}px;min-height:0; position:absolute; top:{$yScale(tick)}px; right:{$width+5}px;height:{$yScale.bandwidth()}px;">
				<p class="label" style="width:{$padding.left-5}px;">{formatTick(tick)}</p>
		</div>
	{/each}
</div>

<style>
	@media all not (-ms-high-contrast:none)
   {
		 div.tick{
			 display:flex;
			 align-items:center;
		 }

   }

	div.tick{
	  display: flex;
		align-items:center;
	}

	p.label {
		color:#666;
		font-size:14px;
		text-align:right;
		line-height:1.1em;
		margin:auto auto;
	}
</style>
